<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiAIDemo.OcrPage"
             Title="OCR Image Reader">

    <ScrollView>
        <VerticalStackLayout
            Padding="30,0"
            Spacing="25">

            <Label
                Text="OCR Image Reader"
                Style="{StaticResource Headline}"
                HorizontalOptions="Center"
                SemanticProperties.HeadingLevel="Level1" />

            <Label
                Text="Select an image to extract text:"
                FontAttributes="Bold"
                HorizontalOptions="Start" />

            <Border
                Stroke="{AppThemeBinding Light=Gray, Dark=LightGray}"
                StrokeThickness="2"
                StrokeDashArray="5,5"
                BackgroundColor="{AppThemeBinding Light=#F9F9F9, Dark=#2D2D30}"
                Padding="20"
                StrokeShape="RoundRectangle 10"
                MinimumHeightRequest="200">
                
                <StackLayout HorizontalOptions="Center" VerticalOptions="Center">
                    <Image
                        x:Name="SelectedImage"
                        Aspect="AspectFit"
                        MaximumHeightRequest="200"
                        MaximumWidthRequest="300"
                        IsVisible="False"
                        HorizontalOptions="Center"
                        VerticalOptions="Center" />
                    
                    <Label
                        x:Name="PlaceholderLabel"
                        Text="📷 Tap to select an image"
                        FontSize="16"
                        TextColor="{AppThemeBinding Light=Gray, Dark=LightGray}"
                        HorizontalOptions="Center"
                        VerticalOptions="Center"
                        HorizontalTextAlignment="Center" />
                </StackLayout>
                
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnImageAreaTapped" />
                </Border.GestureRecognizers>
            </Border>

            <Button
                x:Name="CounterBtn"
                Text="Extract Text from Image" 
                SemanticProperties.Hint="Extract text from the selected image using OCR"
                Clicked="OnCounterClicked"
                HorizontalOptions="Fill"
                IsEnabled="False" />

            <Label
                Text="Extracted Text:"
                FontAttributes="Bold"
                Margin="0,10,0,0" />

            <Border
                Stroke="{AppThemeBinding Light=Gray, Dark=LightGray}"
                StrokeThickness="1"
                BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#2D2D30}"
                Padding="10"
                StrokeShape="RoundRectangle 5">
                <Editor
                    x:Name="ResponseEditor"
                    Placeholder="Extracted text will appear here..."
                    IsReadOnly="True"
                    MinimumHeightRequest="200"
                    FontSize="14"
                    BackgroundColor="Transparent"
                    TextColor="{AppThemeBinding Light=Black, Dark=White}"
                    HorizontalOptions="FillAndExpand"
                    VerticalOptions="FillAndExpand"
                    AutoSize="TextChanges" />
            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
